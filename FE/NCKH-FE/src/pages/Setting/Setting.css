/* ======================
   THEME & RESET
   ====================== */
:root{
  --ui-bg:#f5f7fb;
  --card-bg:#ffffff;
  --line:#e6e9ef;
  --text:#111827;
  --muted:#6b7280;
  --primary:#2563eb;
  --primary-2:#60a5fa;
  --shadow:0 8px 24px rgba(15,23,42,.06);

  --header-h:60px;         /* cao header nếu có */
  --setting-menu-w:260px;  /* rộng sidebar */
  --pair-gap:16px;         /* khoảng cách 2 khung */
  --card-pad:24px;         /* padding trong card */
  --form-col-gap:24px;     /* khoảng cách 2 cột form */
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--ui-bg);
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* ======================
   LAYOUT: 2 CỘT – SIDEBAR = PROFILE
   ====================== */
.setting{
  display:grid;
  grid-template-columns: var(--setting-menu-w) minmax(0,1fr);
  gap: var(--pair-gap);
  padding:16px;
  align-items:start;     /* CHỐT: chiều cao hàng = theo phần content cao nhất */
  height:auto;           /* container cao theo profile, KHÔNG khóa = viewport */
}

/* ======================
   SIDEBAR (khung Setting)
   ====================== */
.setting-sidebar{
  background:var(--card-bg);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:6px;

  /* CHỐT: cho sidebar cao = chiều cao hàng (bằng profile) */
  height:100%;
}
.setting-sidebar .menu-item{
  position:relative;
  display:flex; align-items:center; gap:12px;
  padding:12px 16px;
  border-radius:12px;
  color:var(--text);
  cursor:pointer;
  transition:background .18s,transform .18s,color .18s;
}
.setting-sidebar .menu-item svg{ font-size:18px; color:#5850ec; }
.setting-sidebar .menu-item:hover{ background:#f7f8fb; transform:translateX(2px); }
.setting-sidebar .menu-item.active{
  background:#eef2ff; color:var(--primary); font-weight:700;
}
.setting-sidebar .menu-item.active svg{ color:var(--primary); }
.setting-sidebar .menu-item.active::before{
  content:""; position:absolute; left:-6px; top:8px; bottom:8px; width:4px;
  border-radius:6px;
  background:linear-gradient(180deg,var(--primary-2),var(--primary));
  box-shadow:0 0 0 3px rgba(37,99,235,.08);
}

/* ======================
   CONTENT (khung Profile)
   ====================== */
.setting-content{
  min-width:0; /* chống tràn form */
}

/* Card profile ở cột phải */
.profile-card{
  background:var(--card-bg);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:var(--card-pad);
  min-width:0;

  /* 2 cột bên trong card */
  display:grid;
  grid-template-columns: clamp(200px,22vw,240px) 1fr;
  gap:20px 28px;

  /* CHỐT: để profile tự cao theo nội dung (sidebar sẽ bám theo) */
  height:auto;
}

/* LEFT: avatar */
.profile-left{
  display:flex; flex-direction:column; align-items:center; text-align:center;
}
.avatar{
  width:120px;height:120px;border-radius:50%;
  object-fit:cover;border:4px solid #eef2ff;
  box-shadow:0 4px 12px rgba(0,0,0,.08);margin-bottom:12px;
}
.btn-upload{
  display:inline-block;padding:8px 14px;border-radius:10px;
  border:1px solid var(--line);background:#f9fafb;font-weight:600;
  cursor:pointer;transition:background .18s,transform .18s;
}
.btn-upload:hover{ background:#eef2ff; transform:translateY(-1px); }
.note{ font-size:12px; color:var(--muted); margin-top:6px; }

/* RIGHT: form */
.profile-right{
  display:flex; flex-direction:column; min-width:0;
}
.info-form{
  flex:1;
  display:grid;
  grid-template-columns:1fr 1fr;
  grid-template-areas:
    "name     username"
    "dob      email"
    "phone    gender"
    "school   school"
    "grade    grade";
  column-gap:var(--form-col-gap);
  row-gap:14px;
  min-width:0;
}
.r-name{grid-area:name;}
.r-username{grid-area:username;}
.r-dob{grid-area:dob;}
.r-email{grid-area:email;}
.r-phone{grid-area:phone;}
.r-gender{grid-area:gender;}
.r-school{grid-area:school;}
.r-grade{grid-area:grade;}

.form-row{ display:flex; flex-direction:column; gap:6px; min-width:0; }
.form-row label{ font-size:14px; font-weight:600; color:#374151; }
.form-row input{
  height:44px; padding:0 16px; font-size:14px; border:1px solid var(--line);
  border-radius:10px; background:#fff; width:100%; min-width:0;
  transition:border-color .15s, box-shadow .15s;
}
.form-row input:focus{ outline:none; border-color:#94c0ff; box-shadow:0 0 0 3px rgba(37,99,235,.18); }
.form-row input:disabled{ background:#f3f4f6; color:#6b7280; }
.form-row input[type="date"]{ padding-right:10px; }
.form-row input[type="date"]::-webkit-calendar-picker-indicator{ opacity:.8; margin-left:4px; }

.radio-group{ display:flex; align-items:center; gap:16px; height:44px; }
.change-link{ margin-top:4px; font-size:12px; color:var(--primary); text-decoration:underline; width:max-content; }

/* Actions */
.form-actions{
  display:flex; justify-content:flex-end;
  padding-top:12px; border-top:1px solid var(--line); margin-top:20px;
}
.btn-update{
  padding:10px 22px; background:var(--primary); color:#fff; border:none;
  border-radius:10px; font-weight:600; cursor:pointer;
  transition:background .2s, transform .2s;
}
.btn-update:hover{ background:var(--primary-2); transform:translateY(-2px); }

/* ======================
   RESPONSIVE
   ====================== */
@media (max-width:1040px){
  .setting{
    grid-template-columns: 1fr;    /* xếp dọc mobile */
  }
  .profile-card{
    grid-template-columns:1fr;
    gap:18px; padding:20px;
  }
  .info-form{
    grid-template-columns:1fr;
    grid-template-areas:
      "name" "username" "dob" "email" "phone" "gender" "school" "grade";
  }
  .form-actions .btn-update{ width:100%; }
}
/* ============== CHANGE PASSWORD (ĐỔI MẬT KHẨU) ============== */
/* Dán cuối file Setting.css của bạn */

/* Card dùng chung cho mọi màn trong phần Setting (nếu chưa có) */
.panel-card{
  background:var(--card-bg);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:var(--card-pad);
  min-width:0;
}

/* Bố cục 2 cột: Trái = hướng dẫn | Phải = form */
.pw-card{
  display:grid;
  grid-template-columns: clamp(220px,26vw,280px) 1fr;
  gap:20px 28px;
}

/* Cột trái: tiêu đề + luật + thước đo độ mạnh */
.pw-left .pw-title{ margin:0 0 6px; font-size:18px; font-weight:700; }
.pw-left .pw-caption{ margin:0 0 8px; color:var(--muted); }

.pw-rules{
  list-style:none; padding:0; margin:8px 0 12px;
  display:grid; gap:6px;
}
.pw-rules li{
  position:relative; padding-left:20px;
  font-size:14px; color:#374151;
}
.pw-rules li::before{
  content:"•"; position:absolute; left:0; top:0; line-height:1;
  color:var(--muted);
}
.pw-rules li.ok{ color:#059669; font-weight:600; }
.pw-rules li.ok::before{ content:"✔"; color:#059669; }

/* Strength meter */
.pw-meter{
  height:8px; background:#eef2f7; border-radius:999px;
  overflow:hidden; margin:6px 0 4px;
}
.pw-meter .bar{ height:100%; width:0; transition:width .2s ease; }
.pw-meter.weak   .bar{ background:#ef4444; } /* 0–2 */
.pw-meter.fair   .bar{ background:#f59e0b; } /* 3   */
.pw-meter.good   .bar{ background:#10b981; } /* 4   */
.pw-meter.strong .bar{ background:#059669; } /* 5–6 */
.pw-note{ display:block; margin-top:6px; color:var(--muted); }

/* Cột phải: form đổi mật khẩu */
.pw-right{ display:flex; flex-direction:column; min-width:0; }
.pw-form{ display:flex; flex-direction:column; gap:14px; }

.pw-input{ position:relative; }
.pw-input input{
  width:100%;
  height:44px;
  padding:0 44px 0 16px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#fff;
  transition:border-color .15s, box-shadow .15s;
}
.pw-input input:focus{
  outline:none;
  border-color:#94c0ff;
  box-shadow:0 0 0 3px rgba(37,99,235,.18);
}

/* Nút hiện/ẩn mật khẩu */
.pw-eye{
  position:absolute; top:50%; right:10px; transform:translateY(-50%);
  width:32px; height:32px;
  border:none; border-radius:8px;
  background:#f3f4f6;
  display:grid; place-items:center;
  cursor:pointer;
}
.pw-eye:hover{ background:#eef2ff; }

/* Lỗi nhỏ dưới input */
.pw-error{ color:#ef4444; margin-top:4px; display:block; }

/* Nút submit có trạng thái disabled rõ ràng */
.btn-update:disabled{
  opacity:.55; cursor:not-allowed; transform:none !important;
}

/* Responsive */
@media (max-width:1040px){
  .pw-card{ grid-template-columns:1fr; }
}
